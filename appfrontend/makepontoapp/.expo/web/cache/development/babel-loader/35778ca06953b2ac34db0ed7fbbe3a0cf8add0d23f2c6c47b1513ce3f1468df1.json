{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useContext, useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { StatusBar } from 'expo-status-bar';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AppLoading from 'expo-app-loading';\nimport LoginScreen from \"./screens/LoginScreen\";\nimport SignupScreen from \"./screens/SignupScreen\";\nimport WelcomeScreen from \"./screens/WelcomeScreen\";\nimport MoreOptionsScreen from \"./screens/MoreOptionsScreen\";\nimport { Colors } from \"./constants/styles\";\nimport AuthContextProvider, { AuthContext } from \"./store/auth-context\";\nimport IconButton from \"./components/ui/IconButton\";\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar Stack = createNativeStackNavigator();\nfunction AuthStack() {\n  return _jsxs(Stack.Navigator, {\n    screenOptions: {\n      headerStyle: {\n        backgroundColor: Colors.primary500\n      },\n      headerTintColor: 'white',\n      contentStyle: {\n        backgroundColor: Colors.primary100\n      }\n    },\n    children: [_jsx(Stack.Screen, {\n      name: \"Login\",\n      component: LoginScreen\n    }), _jsx(Stack.Screen, {\n      name: \"Signup\",\n      component: SignupScreen\n    })]\n  });\n}\nfunction AuthenticatedStack() {\n  var authCtx = useContext(AuthContext);\n  return _jsxs(Stack.Navigator, {\n    screenOptions: {\n      headerStyle: {\n        backgroundColor: Colors.primary500\n      },\n      headerTintColor: 'white',\n      contentStyle: {\n        backgroundColor: Colors.primary100\n      }\n    },\n    children: [_jsx(Stack.Screen, {\n      name: \"Welcome\",\n      component: WelcomeScreen,\n      options: {\n        headerRight: function headerRight(_ref) {\n          var tintColor = _ref.tintColor;\n          return _jsx(IconButton, {\n            icon: \"exit\",\n            color: tintColor,\n            size: 24,\n            onPress: authCtx.logout\n          });\n        }\n      }\n    }), _jsx(Stack.Screen, {\n      name: \"MoreOptions\",\n      component: MoreOptionsScreen,\n      options: {\n        title: 'Mais Opções'\n      }\n    })]\n  });\n}\nfunction Navigation() {\n  var authCtx = useContext(AuthContext);\n  return _jsxs(NavigationContainer, {\n    children: [!authCtx.isAuthenticated && _jsx(AuthStack, {}), authCtx.isAuthenticated && _jsx(AuthenticatedStack, {})]\n  });\n}\nfunction Root() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isTryingLogin = _useState2[0],\n    setIsTryingLogin = _useState2[1];\n  var authCtx = useContext(AuthContext);\n  useEffect(function () {\n    function fetchToken() {\n      var storedToken;\n      return _regeneratorRuntime.async(function fetchToken$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n          case 2:\n            storedToken = _context.sent;\n            if (storedToken) {\n              authCtx.authenticate(storedToken);\n            }\n            setIsTryingLogin(false);\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, null, null, null, Promise);\n    }\n    fetchToken();\n  }, []);\n  if (isTryingLogin) {\n    return _jsx(AppLoading, {});\n  }\n  return _jsx(Navigation, {});\n}\nexport default function App() {\n  return _jsxs(_Fragment, {\n    children: [_jsx(StatusBar, {\n      style: \"light\"\n    }), _jsx(AuthContextProvider, {\n      children: _jsx(Root, {})\n    })]\n  });\n}","map":{"version":3,"names":["useContext","useEffect","useState","NavigationContainer","createNativeStackNavigator","StatusBar","AsyncStorage","AppLoading","LoginScreen","SignupScreen","WelcomeScreen","MoreOptionsScreen","Colors","AuthContextProvider","AuthContext","IconButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Stack","AuthStack","Navigator","screenOptions","headerStyle","backgroundColor","primary500","headerTintColor","contentStyle","primary100","children","Screen","name","component","AuthenticatedStack","authCtx","options","headerRight","_ref","tintColor","icon","color","size","onPress","logout","title","Navigation","isAuthenticated","Root","_useState","_useState2","_slicedToArray","isTryingLogin","setIsTryingLogin","fetchToken","storedToken","_regeneratorRuntime","async","fetchToken$","_context","prev","next","awrap","getItem","sent","authenticate","stop","Promise","App","style"],"sources":["C:/MAMP/htdocs/github_novo/makeponto/makeponto/appfrontend/makepontoapp/App.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport AppLoading from 'expo-app-loading';\r\n\r\nimport LoginScreen from './screens/LoginScreen';\r\nimport SignupScreen from './screens/SignupScreen';\r\nimport WelcomeScreen from './screens/WelcomeScreen';\r\nimport MoreOptionsScreen from './screens/MoreOptionsScreen';\r\nimport { Colors } from './constants/styles';\r\nimport AuthContextProvider, { AuthContext } from './store/auth-context';\r\nimport IconButton from './components/ui/IconButton';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nfunction AuthStack() {\r\n  return (\r\n    <Stack.Navigator\r\n      screenOptions={{\r\n        headerStyle: { backgroundColor: Colors.primary500 },\r\n        headerTintColor: 'white',\r\n        contentStyle: { backgroundColor: Colors.primary100 },\r\n      }}\r\n    >\r\n      <Stack.Screen name=\"Login\" component={LoginScreen} />\r\n      <Stack.Screen name=\"Signup\" component={SignupScreen} />\r\n    </Stack.Navigator>\r\n  );\r\n}\r\n\r\nfunction AuthenticatedStack() {\r\n  const authCtx = useContext(AuthContext);\r\n  return (\r\n    <Stack.Navigator\r\n      screenOptions={{\r\n        headerStyle: { backgroundColor: Colors.primary500 },\r\n        headerTintColor: 'white',\r\n        contentStyle: { backgroundColor: Colors.primary100 },\r\n      }}\r\n    >\r\n      <Stack.Screen\r\n        name=\"Welcome\"\r\n        component={WelcomeScreen}\r\n        options={{\r\n          headerRight: ({ tintColor }) => (\r\n            <IconButton\r\n              icon=\"exit\"\r\n              color={tintColor}\r\n              size={24}\r\n              onPress={authCtx.logout}\r\n            />\r\n          ),\r\n        }}\r\n      />\r\n      <Stack.Screen\r\n        name=\"MoreOptions\" // Define the route name\r\n        component={MoreOptionsScreen} // Assign the component to be rendered\r\n        options={{ title: 'Mais Opções' }} // Optional: Set a title or other options\r\n      />\r\n    </Stack.Navigator>\r\n  );\r\n}\r\n\r\nfunction Navigation() {\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  return (\r\n    <NavigationContainer>\r\n      {!authCtx.isAuthenticated && <AuthStack />}\r\n      {authCtx.isAuthenticated && <AuthenticatedStack />}\r\n    </NavigationContainer>\r\n  );\r\n}\r\n\r\nfunction Root() {\r\n  const [isTryingLogin, setIsTryingLogin] = useState(true);\r\n\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    async function fetchToken() {\r\n      const storedToken = await AsyncStorage.getItem('token');\r\n\r\n      if (storedToken) {\r\n        authCtx.authenticate(storedToken);\r\n      }\r\n\r\n      setIsTryingLogin(false);\r\n    }\r\n\r\n    fetchToken();\r\n  }, []);\r\n\r\n  if (isTryingLogin) {\r\n    return <AppLoading />;\r\n  }\r\n\r\n  return <Navigation />;\r\n}\r\n\r\nexport default function App() {\r\n  \r\n  return (\r\n    <>\r\n      <StatusBar style=\"light\" />\r\n      <AuthContextProvider>\r\n        <Root />\r\n      </AuthContextProvider>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}