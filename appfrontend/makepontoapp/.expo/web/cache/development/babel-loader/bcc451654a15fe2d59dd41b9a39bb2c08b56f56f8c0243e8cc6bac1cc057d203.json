{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useContext, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AuthContent from \"../components/Auth/AuthContent\";\nimport LoadingOverlay from \"../components/ui/LoadingOverlay\";\nimport { AuthContext } from \"../store/auth-context\";\nimport { createUser } from \"../util/auth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction SignupScreen() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isAuthenticating = _useState2[0],\n    setIsAuthenticating = _useState2[1];\n  var authCtx = useContext(AuthContext);\n  function signupHandler(_ref) {\n    var email, password, token;\n    return _regeneratorRuntime.async(function signupHandler$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          email = _ref.email, password = _ref.password;\n          setIsAuthenticating(true);\n          _context.prev = 2;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(createUser(email, password));\n        case 5:\n          token = _context.sent;\n          authCtx.authenticate(token);\n          _context.next = 13;\n          break;\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](2);\n          Alert.alert('Authentication failed', 'Could not create user, please check your input and try again later.');\n          setIsAuthenticating(false);\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, [[2, 9]], Promise);\n  }\n  if (isAuthenticating) {\n    return _jsx(LoadingOverlay, {\n      message: \"Creating user...\"\n    });\n  }\n  return _jsx(AuthContent, {\n    onAuthenticate: signupHandler\n  });\n}\nexport default SignupScreen;","map":{"version":3,"names":["useContext","useState","Alert","AuthContent","LoadingOverlay","AuthContext","createUser","jsx","_jsx","SignupScreen","_useState","_useState2","_slicedToArray","isAuthenticating","setIsAuthenticating","authCtx","signupHandler","_ref","email","password","token","_regeneratorRuntime","async","signupHandler$","_context","prev","next","awrap","sent","authenticate","t0","alert","stop","Promise","message","onAuthenticate"],"sources":["C:/MAMP/htdocs/makeponto/appfrontend/makepontoapp/screens/SignupScreen.js"],"sourcesContent":["import { useContext, useState } from 'react';\nimport { Alert } from 'react-native';\n\nimport AuthContent from '../components/Auth/AuthContent';\nimport LoadingOverlay from '../components/ui/LoadingOverlay';\nimport { AuthContext } from '../store/auth-context';\nimport { createUser } from '../util/auth';\n\nfunction SignupScreen() {\n  const [isAuthenticating, setIsAuthenticating] = useState(false);\n\n  const authCtx = useContext(AuthContext);\n\n  async function signupHandler({ email, password }) {\n    setIsAuthenticating(true);\n    try {\n      const token = await createUser(email, password);\n      authCtx.authenticate(token);\n    } catch (error) {\n      Alert.alert(\n        'Authentication failed',\n        'Could not create user, please check your input and try again later.'\n      );\n      setIsAuthenticating(false);\n    }\n  }\n\n  if (isAuthenticating) {\n    return <LoadingOverlay message=\"Creating user...\" />;\n  }\n\n  return <AuthContent onAuthenticate={signupHandler} />;\n}\n\nexport default SignupScreen;\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,KAAA;AAG7C,OAAOC,WAAW;AAClB,OAAOC,cAAc;AACrB,SAASC,WAAW;AACpB,SAASC,UAAU;AAAuB,SAAAC,GAAA,IAAAC,IAAA;AAE1C,SAASC,YAAYA,CAAA,EAAG;EACtB,IAAAC,SAAA,GAAgDT,QAAQ,CAAC,KAAK,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAxDG,gBAAgB,GAAAF,UAAA;IAAEG,mBAAmB,GAAAH,UAAA;EAE5C,IAAMI,OAAO,GAAGf,UAAU,CAACK,WAAW,CAAC;EAEvC,SAAeW,aAAaA,CAAAC,IAAA;IAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAC,KAAA;IAAA,OAAAC,mBAAA,CAAAC,KAAA,UAAAC,eAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAGR,KAAK,GAAAD,IAAA,CAALC,KAAK,EAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;UAC5CL,mBAAmB,CAAC,IAAI,CAAC;UAACU,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAAAL,mBAAA,CAAAM,KAAA,CAEJrB,UAAU,CAACY,KAAK,EAAEC,QAAQ,CAAC;QAAA;UAAzCC,KAAK,GAAAI,QAAA,CAAAI,IAAA;UACXb,OAAO,CAACc,YAAY,CAACT,KAAK,CAAC;UAACI,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;UAE5BtB,KAAK,CAAC6B,KAAK,CACT,uBAAuB,EACvB,qEACF,CAAC;UACDjB,mBAAmB,CAAC,KAAK,CAAC;QAAC;QAAA;UAAA,OAAAU,QAAA,CAAAQ,IAAA;MAAA;IAAA,yBAAAC,OAAA;EAAA;EAI/B,IAAIpB,gBAAgB,EAAE;IACpB,OAAOL,IAAA,CAACJ,cAAc;MAAC8B,OAAO,EAAC;IAAkB,CAAE,CAAC;EACtD;EAEA,OAAO1B,IAAA,CAACL,WAAW;IAACgC,cAAc,EAAEnB;EAAc,CAAE,CAAC;AACvD;AAEA,eAAeP,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}